# VoPet í´ë¼ìš°ë“œ ì—°ë™ êµ¬í˜„ ì œì•ˆì„œ

## ğŸ“‹ ëª©ì°¨

1. [í˜„ì¬ ìƒí™© ë¶„ì„](#í˜„ì¬-ìƒí™©-ë¶„ì„)
2. [ë°ì´í„° êµ¬ì¡° ë¹„êµ](#ë°ì´í„°-êµ¬ì¡°-ë¹„êµ)
3. [êµ¬í˜„ ë°©ì•ˆ](#êµ¬í˜„-ë°©ì•ˆ)
4. [êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš](#êµ¬í˜„-ë‹¨ê³„ë³„-ê³„íš)
5. [ê³ ë ¤ì‚¬í•­](#ê³ ë ¤ì‚¬í•­)
6. [ì¶”ì²œ êµ¬í˜„ ìˆœì„œ](#ì¶”ì²œ-êµ¬í˜„-ìˆœì„œ)

---

## í˜„ì¬ ìƒí™© ë¶„ì„

### í”„ë¡œì íŠ¸ ë°°ê²½

- í¬ë¡¬ ìµìŠ¤í…ì…˜ì—ì„œ ë‹¨ì–´ë¥¼ ì €ì¥í•˜ë©´ RDSì— ì €ì¥ë¨
- ì•±ì—ì„œ í´ë¼ìš°ë“œ ë‹¨ì–´ë¥¼ ë¡œì»¬ ë‹¨ì–´ì¥ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ í•„ìš”
- í´ë¼ìš°ë“œ â†’ ë¡œì»¬ ë‹¨ë°©í–¥ ë™ê¸°í™” ìš°ì„  êµ¬í˜„

### ê¸°ìˆ  ìŠ¤íƒ

- **ë°±ì—”ë“œ**: RDS (PostgreSQL/MySQL)
- **ì•±**: Android (Room Database)
- **API í†µì‹ **: Retrofit (ì¶”ê°€ í•„ìš”)
- **ë§¤í•‘**: WordMapper (ì´ë¯¸ êµ¬í˜„ë¨)

---

## ë°ì´í„° êµ¬ì¡° ë¹„êµ

### ë°±ì—”ë“œ (í¬ë¡¬ ìµìŠ¤í…ì…˜) êµ¬ì¡°

```sql
CREATE TABLE words (
    id BIGINT PRIMARY KEY,
    word VARCHAR,              -- ì™¸êµ­ì–´ ë‹¨ì–´
    translation VARCHAR,        -- í•œêµ­ì–´ ë²ˆì—­
    example VARCHAR,            -- ì˜ˆë¬¸
    pronunciation VARCHAR,      -- ë°œìŒ
    user_id VARCHAR,            -- ì‚¬ìš©ì ID
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

### ì•± (Android) êµ¬ì¡°

```java
@Entity
public class Word {
    int id;                     // ë¡œì»¬ ID
    int wordListId;             // ë‹¨ì–´ì¥ ID
    String korean;              // í•œêµ­ì–´
    String foreign;             // ì™¸êµ­ì–´
    String memo;                // ë©”ëª¨ (ì•± ì „ìš©)
    String example;             // ì˜ˆë¬¸
    String pronunciation;        // ë°œìŒ
    String imageUrl;            // ì´ë¯¸ì§€ (ì•± ì „ìš©)
    boolean isLiked;            // ì¢‹ì•„ìš” (ì•± ì „ìš©)

    // ë³µìŠµ ì‹œìŠ¤í…œ (ì•± ì „ìš©)
    int reviewStage;
    long nextReviewTime;
    long lastReviewTime;

    // ë™ê¸°í™” í•„ë“œ
    String uuid;                // ê³ ìœ  ì‹ë³„ì
    long updatedAt;             // ìˆ˜ì • ì‹œê°„
    boolean isDeleted;          // Soft Delete
    boolean isCloud;            // í´ë¼ìš°ë“œ ë‹¨ì–´ ì—¬ë¶€ (ë‹¨ì–´ ë‹¨ìœ„ êµ¬ë¶„)
}
```

### í•„ë“œ ë§¤í•‘ ê´€ê³„

| ë°±ì—”ë“œ í•„ë“œ     | ì•± í•„ë“œ         | ë¹„ê³                  |
| --------------- | --------------- | -------------------- |
| `word`          | `foreign`       | ì™¸êµ­ì–´ ë‹¨ì–´          |
| `translation`   | `korean`        | í•œêµ­ì–´ ë²ˆì—­          |
| `example`       | `example`       | ì˜ˆë¬¸                 |
| `pronunciation` | `pronunciation` | ë°œìŒ                 |
| `user_id`       | `uuid` (ì¼ë¶€)   | ì‚¬ìš©ì ì‹ë³„          |
| `created_at`    | -               | ë¡œì»¬ ë¯¸ì‚¬ìš©          |
| `updated_at`    | `updatedAt`     | íƒ€ì„ìŠ¤íƒ¬í”„ ë³€í™˜ í•„ìš” |

### ê²°ë¡ : ë°±ì—”ë“œ DB ë³€ê²½ ë¶ˆí•„ìš” âœ…

- **ì´ìœ **: í•„ë“œëª…ë§Œ ë‹¤ë¥´ê³  ë°ì´í„° êµ¬ì¡°ëŠ” í˜¸í™˜ë¨
- **í•´ê²°ì±…**: `WordMapper`ë¥¼ í†µí•´ ìë™ ë³€í™˜ ê°€ëŠ¥
- **ì•± ì „ìš© í•„ë“œ**: `memo`, `imageUrl`, `isLiked`, `isCloud`, ë³µìŠµ ì‹œìŠ¤í…œ í•„ë“œëŠ” ë¡œì»¬ì—ì„œë§Œ ê´€ë¦¬

---

## êµ¬í˜„ ë°©ì•ˆ

### 1ë‹¨ê³„: API í´ë¼ì´ì–¸íŠ¸ êµ¬ì¶•

#### 1.1 Retrofit ì˜ì¡´ì„± ì¶”ê°€

```kotlin
// build.gradle.kts
dependencies {
    // Retrofit
    implementation("com.squareup.retrofit2:retrofit:2.9.0")
    implementation("com.squareup.retrofit2:converter-gson:2.9.0")
    implementation("com.squareup.okhttp3:okhttp:4.12.0")
    implementation("com.squareup.okhttp3:logging-interceptor:4.12.0")
}
```

#### 1.2 API ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ ìƒì„±

```java
// WordApiService.java
package com.example.vopet.api;

import com.example.vopet.dto.WordRequest;
import com.example.vopet.dto.WordResponse;
import retrofit2.Call;
import retrofit2.http.*;

import java.util.List;

public interface WordApiService {

    /**
     * í´ë¼ìš°ë“œì—ì„œ ì‚¬ìš©ìì˜ ëª¨ë“  ë‹¨ì–´ ì¡°íšŒ (ì´ˆê¸° ë™ê¸°í™”ìš©)
     * @param userId ì‚¬ìš©ì ID
     * @return ë‹¨ì–´ ëª©ë¡
     */
    @GET("/api/words")
    Call<List<WordResponse>> getWordsByUserId(@Query("user_id") String userId);

    /**
     * ì¦ë¶„ ë™ê¸°í™”: ë§ˆì§€ë§‰ ë™ê¸°í™” ì´í›„ ë³€ê²½ëœ ë‹¨ì–´ë§Œ ì¡°íšŒ
     * @param userId ì‚¬ìš©ì ID
     * @param since ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ (timestamp)
     * @return ë³€ê²½ëœ ë‹¨ì–´ ëª©ë¡
     */
    @GET("/api/words/since")
    Call<List<WordResponse>> getWordsSince(
        @Query("user_id") String userId,
        @Query("since") long since
    );

    /**
     * ìƒˆë¡œ ì¶”ê°€ëœ ë‹¨ì–´ ê°œìˆ˜ë§Œ ì¡°íšŒ (ë±ƒì§€ìš©)
     * @param userId ì‚¬ìš©ì ID
     * @param since ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ (timestamp)
     * @return ìƒˆ ë‹¨ì–´ ê°œìˆ˜
     */
    @GET("/api/words/count")
    Call<WordCountResponse> getNewWordCount(
        @Query("user_id") String userId,
        @Query("since") long since
    );

    /**
     * íŠ¹ì • ë‹¨ì–´ ì¡°íšŒ
     * @param id ë‹¨ì–´ ID
     * @return ë‹¨ì–´ ì •ë³´
     */
    @GET("/api/words/{id}")
    Call<WordResponse> getWordById(@Path("id") Long id);

    /**
     * ë‹¨ì–´ ìƒì„±
     * @param request ë‹¨ì–´ ìƒì„± ìš”ì²­
     * @return ìƒì„±ëœ ë‹¨ì–´ ì •ë³´
     */
    @POST("/api/words")
    Call<WordResponse> createWord(@Body WordRequest request);

    /**
     * ë‹¨ì–´ ìˆ˜ì •
     * @param id ë‹¨ì–´ ID
     * @param request ë‹¨ì–´ ìˆ˜ì • ìš”ì²­
     * @return ìˆ˜ì •ëœ ë‹¨ì–´ ì •ë³´
     */
    @PUT("/api/words/{id}")
    Call<WordResponse> updateWord(@Path("id") Long id, @Body WordRequest request);

    /**
     * ë‹¨ì–´ ì‚­ì œ
     * @param id ë‹¨ì–´ ID
     * @return ì„±ê³µ ì—¬ë¶€
     */
    @DELETE("/api/words/{id}")
    Call<Void> deleteWord(@Path("id") Long id);
}

// WordCountResponse.java
public class WordCountResponse {
    private int count;  // ìƒˆë¡œ ì¶”ê°€ëœ ë‹¨ì–´ ê°œìˆ˜
    // getter/setter
}
```

#### 1.3 Retrofit í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

```java
// ApiClient.java
package com.example.vopet.api;

import okhttp3.OkHttpClient;
import okhttp3.logging.HttpLoggingInterceptor;
import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;
import java.util.concurrent.TimeUnit;

public class ApiClient {
    private static final String BASE_URL = "https://your-api-server.com"; // ì‹¤ì œ ì„œë²„ URLë¡œ ë³€ê²½

    private static Retrofit retrofit;
    private static WordApiService apiService;

    public static Retrofit getRetrofitInstance() {
        if (retrofit == null) {
            // ë¡œê¹… ì¸í„°ì…‰í„° (ê°œë°œìš©)
            HttpLoggingInterceptor logging = new HttpLoggingInterceptor();
            logging.setLevel(HttpLoggingInterceptor.Level.BODY);

            // OkHttp í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
            OkHttpClient client = new OkHttpClient.Builder()
                    .addInterceptor(logging)
                    .connectTimeout(30, TimeUnit.SECONDS)
                    .readTimeout(30, TimeUnit.SECONDS)
                    .writeTimeout(30, TimeUnit.SECONDS)
                    .build();

            retrofit = new Retrofit.Builder()
                    .baseUrl(BASE_URL)
                    .client(client)
                    .addConverterFactory(GsonConverterFactory.create())
                    .build();
        }
        return retrofit;
    }

    public static WordApiService getApiService() {
        if (apiService == null) {
            apiService = getRetrofitInstance().create(WordApiService.class);
        }
        return apiService;
    }
}
```

---

### 2ë‹¨ê³„: í´ë¼ìš°ë“œ ë‹¨ì–´ì¥ â†’ ë¡œì»¬ ë‹¨ì–´ì¥ ë¶ˆëŸ¬ì˜¤ê¸°

#### 2.1 UI íë¦„

```
1. ì„¤ì • í™”ë©´ â†’ "í´ë¼ìš°ë“œ ë™ê¸°í™”" ë©”ë‰´
2. ì‚¬ìš©ì ì¸ì¦ (user_id ì…ë ¥ ë˜ëŠ” OAuth)
3. "í´ë¼ìš°ë“œ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­
4. ë¡œë”© í™”ë©´ (ProgressBar)
5. ë‹¨ì–´ì¥ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸
   - ê¸°ì¡´ ë‹¨ì–´ì¥ ì„ íƒ
   - ë˜ëŠ” ìƒˆ ë‹¨ì–´ì¥ ìƒì„±
6. ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ ì•Œë¦¼
7. ë‹¨ì–´ì¥ í™”ë©´ìœ¼ë¡œ ì´ë™
```

#### 2.2 CloudSyncManager í´ë˜ìŠ¤ ìƒì„±

```java
// CloudSyncManager.java
package com.example.vopet.sync;

import android.content.Context;
import android.util.Log;
import com.example.vopet.api.ApiClient;
import com.example.vopet.api.WordApiService;
import com.example.vopet.database.VoPetDatabase;
import com.example.vopet.database.Word;
import com.example.vopet.database.WordDao;
import com.example.vopet.dto.WordMapper;
import com.example.vopet.dto.WordResponse;
import retrofit2.Call;
import retrofit2.Response;
import android.content.SharedPreferences;
import java.util.List;

public class CloudSyncManager {
    private static final String TAG = "CloudSyncManager";
    private static final long SYNC_COOLDOWN = 5 * 60 * 1000; // 5ë¶„ ì¿¨ë‹¤ìš´
    private WordApiService apiService;
    private WordDao wordDao;
    private Context context;

    public CloudSyncManager(Context context) {
        this.context = context;
        this.apiService = ApiClient.getApiService();
        this.wordDao = VoPetDatabase.getDatabase(context).wordDao();
    }

    /**
     * ë™ê¸°í™” ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬ (Rate Limiting)
     */
    public boolean canSync(String userId) {
        SharedPreferences prefs = context.getSharedPreferences("sync", Context.MODE_PRIVATE);
        long lastSyncTime = prefs.getLong("last_sync_time_" + userId, 0);
        long now = System.currentTimeMillis();

        if (now - lastSyncTime < SYNC_COOLDOWN) {
            return false;
        }
        return true;
    }

    /**
     * ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ ê°€ì ¸ì˜¤ê¸°
     */
    private long getLastSyncTime(String userId) {
        SharedPreferences prefs = context.getSharedPreferences("sync", Context.MODE_PRIVATE);
        return prefs.getLong("last_sync_time_" + userId, 0);
    }

    /**
     * ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ ì €ì¥
     */
    private void saveLastSyncTime(String userId) {
        SharedPreferences prefs = context.getSharedPreferences("sync", Context.MODE_PRIVATE);
        prefs.edit().putLong("last_sync_time_" + userId, System.currentTimeMillis()).apply();
    }

    /**
     * í´ë¼ìš°ë“œì—ì„œ ì‚¬ìš©ìì˜ ëª¨ë“  ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° (ì´ˆê¸° ë™ê¸°í™”ìš©)
     * @param userId ì‚¬ìš©ì ID
     * @return ë‹¨ì–´ ëª©ë¡ (ì„±ê³µ ì‹œ), null (ì‹¤íŒ¨ ì‹œ)
     */
    public List<WordResponse> fetchCloudWords(String userId) {
        try {
            Call<List<WordResponse>> call = apiService.getWordsByUserId(userId);
            Response<List<WordResponse>> response = call.execute();

            if (response.isSuccessful() && response.body() != null) {
                Log.d(TAG, "í´ë¼ìš°ë“œ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì„±ê³µ: " + response.body().size() + "ê°œ");
                return response.body();
            } else {
                Log.e(TAG, "í´ë¼ìš°ë“œ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: " + response.code());
                return null;
            }
        } catch (Exception e) {
            Log.e(TAG, "í´ë¼ìš°ë“œ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜", e);
            return null;
        }
    }

    /**
     * ì¦ë¶„ ë™ê¸°í™”: ë§ˆì§€ë§‰ ë™ê¸°í™” ì´í›„ ë³€ê²½ëœ ë‹¨ì–´ë§Œ ê°€ì ¸ì˜¤ê¸°
     * @param userId ì‚¬ìš©ì ID
     * @return ë³€ê²½ëœ ë‹¨ì–´ ëª©ë¡ (ì„±ê³µ ì‹œ), null (ì‹¤íŒ¨ ì‹œ)
     */
    public List<WordResponse> fetchCloudWordsSince(String userId) {
        long lastSyncTime = getLastSyncTime(userId);

        // ì´ˆê¸° ë™ê¸°í™”ì¸ ê²½ìš° ì „ì²´ ê°€ì ¸ì˜¤ê¸°
        if (lastSyncTime == 0) {
            return fetchCloudWords(userId);
        }

        try {
            Call<List<WordResponse>> call = apiService.getWordsSince(userId, lastSyncTime);
            Response<List<WordResponse>> response = call.execute();

            if (response.isSuccessful() && response.body() != null) {
                Log.d(TAG, "ì¦ë¶„ ë™ê¸°í™” ì„±ê³µ: " + response.body().size() + "ê°œ");
                return response.body();
            } else {
                Log.e(TAG, "ì¦ë¶„ ë™ê¸°í™” ì‹¤íŒ¨: " + response.code());
                return null;
            }
        } catch (Exception e) {
            Log.e(TAG, "ì¦ë¶„ ë™ê¸°í™” ì˜¤ë¥˜", e);
            return null;
        }
    }

    /**
     * ìƒˆë¡œ ì¶”ê°€ëœ ë‹¨ì–´ ê°œìˆ˜ ê°€ì ¸ì˜¤ê¸° (ë±ƒì§€ìš©)
     * @param userId ì‚¬ìš©ì ID
     * @return ìƒˆ ë‹¨ì–´ ê°œìˆ˜
     */
    public int getNewWordCount(String userId) {
        long lastSyncTime = getLastSyncTime(userId);
        if (lastSyncTime == 0) {
            return 0; // ì´ˆê¸° ë™ê¸°í™” ì „ì—ëŠ” 0
        }

        try {
            Call<WordCountResponse> call = apiService.getNewWordCount(userId, lastSyncTime);
            Response<WordCountResponse> response = call.execute();

            if (response.isSuccessful() && response.body() != null) {
                return response.body().getCount();
            }
        } catch (Exception e) {
            Log.e(TAG, "ìƒˆ ë‹¨ì–´ ê°œìˆ˜ ì¡°íšŒ ì˜¤ë¥˜", e);
        }
        return 0;
    }

    /**
     * í´ë¼ìš°ë“œ ë‹¨ì–´ë¥¼ ë¡œì»¬ ë‹¨ì–´ì¥ì— ì¶”ê°€
     * @param cloudWords í´ë¼ìš°ë“œ ë‹¨ì–´ ëª©ë¡
     * @param localWordListId ë¡œì»¬ ë‹¨ì–´ì¥ ID
     * @param userId ì‚¬ìš©ì ID (uuid ìƒì„±ìš©)
     * @return ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ëœ ë‹¨ì–´ ê°œìˆ˜
     */
    public int importToLocalWordList(List<WordResponse> cloudWords, int localWordListId, String userId) {
        if (cloudWords == null || cloudWords.isEmpty()) {
            return 0;
        }

        int importedCount = 0;
        int skippedCount = 0;

        for (WordResponse response : cloudWords) {
            // WordResponse â†’ Word Entity ë³€í™˜
            Word word = WordMapper.toEntity(response, localWordListId);

            // uuid ì„¤ì • (í´ë¼ìš°ë“œ IDì™€ ë§¤í•‘)
            if (word.uuid == null || word.uuid.isEmpty()) {
                word.uuid = userId + "_" + response.getId();
            }

            // í´ë¼ìš°ë“œ ë‹¨ì–´ í‘œì‹œ
            word.isCloud = true;

            // ì¤‘ë³µ ì²´í¬
            if (isDuplicate(word)) {
                skippedCount++;
                Log.d(TAG, "ì¤‘ë³µ ë‹¨ì–´ ê±´ë„ˆë›°ê¸°: " + word.foreign + " - " + word.korean);
                continue;
            }

            // ë¡œì»¬ DBì— ì €ì¥
            try {
                wordDao.insert(word);
                importedCount++;
                Log.d(TAG, "ë‹¨ì–´ ì¶”ê°€ ì„±ê³µ: " + word.foreign + " - " + word.korean);
            } catch (Exception e) {
                Log.e(TAG, "ë‹¨ì–´ ì¶”ê°€ ì‹¤íŒ¨: " + word.foreign, e);
            }
        }

        Log.d(TAG, "ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ: " + importedCount + "ê°œ ì¶”ê°€, " + skippedCount + "ê°œ ê±´ë„ˆë›°ê¸°");

        // ë™ê¸°í™” ì‹œê°„ ì €ì¥
        if (importedCount > 0) {
            saveLastSyncTime(userId);
        }

        return importedCount;
    }

    /**
     * ì¤‘ë³µ ë‹¨ì–´ ì²´í¬
     * @param newWord ìƒˆë¡œ ì¶”ê°€í•  ë‹¨ì–´
     * @return ì¤‘ë³µ ì—¬ë¶€
     */
    private boolean isDuplicate(Word newWord) {
        // ë°©ë²• 1: ê°™ì€ ë‹¨ì–´ì¥ì—ì„œ foreign + korean ì¡°í•©ì´ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸
        List<Word> existingWords = wordDao.getWordsByWordListId(newWord.wordListId);
        for (Word existing : existingWords) {
            if (existing.foreign != null && existing.korean != null &&
                existing.foreign.equals(newWord.foreign) &&
                existing.korean.equals(newWord.korean)) {
                return true;
            }
        }
        return false;
    }

    /**
     * uuidë¡œ ì¤‘ë³µ ì²´í¬ (ë” ì •í™•í•œ ë°©ë²•)
     * @param uuid í´ë¼ìš°ë“œ uuid
     * @return ì¤‘ë³µ ì—¬ë¶€
     */
    public boolean isDuplicateByUuid(String uuid) {
        List<Word> allWords = wordDao.getAllWords();
        for (Word word : allWords) {
            if (uuid.equals(word.uuid)) {
                return true;
            }
        }
        return false;
    }
}
```

#### 2.3 WordMapper í™•ì¥

```java
// WordMapper.javaì— ì¶”ê°€í•  ë©”ì„œë“œ

/**
 * ë°±ì—”ë“œ WordResponse â†’ Android Word Entity ë³€í™˜ (uuid í¬í•¨)
 * @param response ë°±ì—”ë“œ ì‘ë‹µ
 * @param wordListId ë¡œì»¬ ë‹¨ì–´ì¥ ID
 * @param userId ì‚¬ìš©ì ID (uuid ìƒì„±ìš©)
 * @return Android Word Entity
 */
public static Word toEntity(WordResponse response, int wordListId, String userId) {
    Word word = toEntity(response, wordListId);

    // uuid ì„¤ì • (í´ë¼ìš°ë“œ IDì™€ ë§¤í•‘)
    if (word.uuid == null || word.uuid.isEmpty()) {
        word.uuid = userId + "_" + response.getId();
    }

    // updatedAt ë³€í™˜ (LocalDateTime â†’ long)
    if (response.getUpdatedAt() != null) {
        word.updatedAt = response.getUpdatedAt().toEpochSecond(java.time.ZoneOffset.UTC) * 1000;
    } else {
        word.updatedAt = System.currentTimeMillis();
    }

    return word;
}
```

---

### 3ë‹¨ê³„: UI êµ¬í˜„

#### 3.1 ì„¤ì • í™”ë©´ì— ë™ê¸°í™” ë©”ë‰´ ì¶”ê°€

```java
// SettingsFragment.java ë˜ëŠ” ì„¤ì • Activity
public class SettingsActivity extends AppCompatActivity {

    private void setupCloudSync() {
        Button btnCloudSync = findViewById(R.id.btnCloudSync);
        btnCloudSync.setOnClickListener(v -> {
            showCloudSyncDialog();
        });
    }

    private void showCloudSyncDialog() {
        // ì‚¬ìš©ì ID ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸
        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this);
        builder.setTitle("í´ë¼ìš°ë“œ ë™ê¸°í™”");
        builder.setMessage("ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•˜ì„¸ìš”");

        final EditText input = new EditText(this);
        input.setInputType(InputType.TYPE_CLASS_TEXT);
        builder.setView(input);

        builder.setPositiveButton("ê°€ì ¸ì˜¤ê¸°", (dialog, which) -> {
            String userId = input.getText().toString().trim();
            if (!userId.isEmpty()) {
                startCloudSync(userId);
            }
        });

        builder.setNegativeButton("ì·¨ì†Œ", null);
        builder.show();
    }

    private void startCloudSync(String userId) {
        // ProgressDialog í‘œì‹œ
        ProgressDialog progressDialog = new ProgressDialog(this);
        progressDialog.setMessage("í´ë¼ìš°ë“œì—ì„œ ë‹¨ì–´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...");
        progressDialog.setCancelable(false);
        progressDialog.show();

        // ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ë™ê¸°í™” ì‹¤í–‰
        new Thread(() -> {
            CloudSyncManager syncManager = new CloudSyncManager(this);

            // 1. í´ë¼ìš°ë“œì—ì„œ ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸°
            List<WordResponse> cloudWords = syncManager.fetchCloudWords(userId);

            runOnUiThread(() -> {
                progressDialog.dismiss();

                if (cloudWords == null || cloudWords.isEmpty()) {
                    Toast.makeText(this, "ê°€ì ¸ì˜¬ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
                    return;
                }

                // 2. ë‹¨ì–´ì¥ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸
                showWordListSelectionDialog(cloudWords, userId);
            });
        }).start();
    }

    private void showWordListSelectionDialog(List<WordResponse> cloudWords, String userId) {
        // ê¸°ì¡´ ë‹¨ì–´ì¥ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
        VoPetDatabase db = VoPetDatabase.getDatabase(this);
        List<WordList> wordLists = db.wordListDao().getAllWordLists();

        String[] wordListNames = new String[wordLists.size() + 1];
        for (int i = 0; i < wordLists.size(); i++) {
            wordListNames[i] = wordLists.get(i).name;
        }
        wordListNames[wordLists.size()] = "ìƒˆ ë‹¨ì–´ì¥ ë§Œë“¤ê¸°";

        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this);
        builder.setTitle("ë‹¨ì–´ì¥ ì„ íƒ");
        builder.setMessage(cloudWords.size() + "ê°œì˜ ë‹¨ì–´ë¥¼ ê°€ì ¸ì˜¬ ë‹¨ì–´ì¥ì„ ì„ íƒí•˜ì„¸ìš”");
        builder.setItems(wordListNames, (dialog, which) -> {
            if (which == wordLists.size()) {
                // ìƒˆ ë‹¨ì–´ì¥ ìƒì„±
                showCreateWordListDialog(cloudWords, userId);
            } else {
                // ê¸°ì¡´ ë‹¨ì–´ì¥ ì„ íƒ
                int wordListId = wordLists.get(which).id;
                importWords(cloudWords, userId, wordListId);
            }
        });
        builder.setNegativeButton("ì·¨ì†Œ", null);
        builder.show();
    }

    private void showCreateWordListDialog(List<WordResponse> cloudWords, String userId) {
        MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this);
        builder.setTitle("ìƒˆ ë‹¨ì–´ì¥ ë§Œë“¤ê¸°");

        final EditText input = new EditText(this);
        input.setHint("ë‹¨ì–´ì¥ ì´ë¦„");
        builder.setView(input);

        builder.setPositiveButton("ìƒì„±", (dialog, which) -> {
            String wordListName = input.getText().toString().trim();
            if (!wordListName.isEmpty()) {
                createWordListAndImport(cloudWords, userId, wordListName);
            }
        });

        builder.setNegativeButton("ì·¨ì†Œ", null);
        builder.show();
    }

    private void createWordListAndImport(List<WordResponse> cloudWords, String userId, String wordListName) {
        new Thread(() -> {
            VoPetDatabase db = VoPetDatabase.getDatabase(this);
            WordListDao wordListDao = db.wordListDao();

            // ìƒˆ ë‹¨ì–´ì¥ ìƒì„±
            WordList newWordList = new WordList(wordListName, "í´ë¼ìš°ë“œì—ì„œ ê°€ì ¸ì˜¨ ë‹¨ì–´ì¥");
            newWordList.isCloud = true; // í´ë¼ìš°ë“œ ë‹¨ì–´ì¥ í‘œì‹œ
            wordListDao.insert(newWordList);

            // ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸°
            int wordListId = newWordList.id;
            importWords(cloudWords, userId, wordListId);
        }).start();
    }

    private void importWords(List<WordResponse> cloudWords, String userId, int wordListId) {
        ProgressDialog progressDialog = new ProgressDialog(this);
        progressDialog.setMessage("ë‹¨ì–´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...");
        progressDialog.setCancelable(false);
        progressDialog.show();

        new Thread(() -> {
            CloudSyncManager syncManager = new CloudSyncManager(this);
            int importedCount = syncManager.importToLocalWordList(cloudWords, wordListId, userId);

            runOnUiThread(() -> {
                progressDialog.dismiss();
                Toast.makeText(this, importedCount + "ê°œì˜ ë‹¨ì–´ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();

                // ë‹¨ì–´ì¥ í™”ë©´ìœ¼ë¡œ ì´ë™
                Intent intent = new Intent(this, WordListMainActivity.class);
                startActivity(intent);
            });
        }).start();
    }
}
```

---

## êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš

### Phase 1: ê¸°ë³¸ ë™ê¸°í™” (í´ë¼ìš°ë“œ â†’ ë¡œì»¬) â­ ìš°ì„  êµ¬í˜„

#### 1.1 Retrofit ì„¤ì •

- [ ] `build.gradle.kts`ì— Retrofit ì˜ì¡´ì„± ì¶”ê°€
- [ ] `WordApiService` ì¸í„°í˜ì´ìŠ¤ ìƒì„±
- [ ] `ApiClient` í´ë˜ìŠ¤ ìƒì„±
- [ ] ë„¤íŠ¸ì›Œí¬ ê¶Œí•œ ì¶”ê°€ (`AndroidManifest.xml`)

#### 1.2 ë°ì´í„° êµ¬ì¡° ì—…ë°ì´íŠ¸

- [ ] `Word.java`ì— `isCloud` í•„ë“œ ì¶”ê°€
- [ ] DB ë§ˆì´ê·¸ë ˆì´ì…˜ (ë²„ì „ +1)

#### 1.3 ë™ê¸°í™” ë§¤ë‹ˆì € êµ¬í˜„

- [ ] `CloudSyncManager` í´ë˜ìŠ¤ ìƒì„±
- [ ] `fetchCloudWords()` ë©”ì„œë“œ êµ¬í˜„
- [ ] `importToLocalWordList()` ë©”ì„œë“œ êµ¬í˜„ (isCloud = true ì„¤ì •)
- [ ] ì¤‘ë³µ ì²´í¬ ë¡œì§ êµ¬í˜„
- [ ] Rate Limiting (5ë¶„ ì¿¨ë‹¤ìš´) êµ¬í˜„
- [ ] ì¦ë¶„ ë™ê¸°í™” êµ¬í˜„

#### 1.4 WordMapper í™•ì¥

- [ ] `toEntity()` ë©”ì„œë“œì— uuid ì²˜ë¦¬ ì¶”ê°€
- [ ] íƒ€ì„ìŠ¤íƒ¬í”„ ë³€í™˜ ë¡œì§ ì¶”ê°€
- [ ] `isCloud` í•„ë“œ ì„¤ì •

#### 1.5 UI êµ¬í˜„

- [ ] ì„¤ì • í™”ë©´ì— "í´ë¼ìš°ë“œ ë™ê¸°í™”" ë©”ë‰´ ì¶”ê°€
- [ ] ì‚¬ìš©ì ID ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸
- [ ] ë‹¨ì–´ì¥ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸ (ê¸°ì¡´ ë‹¨ì–´ì¥ì— ì¶”ê°€)
- [ ] ë‹¨ì–´ ëª©ë¡ì—ì„œ í´ë¼ìš°ë“œ ì•„ì´ì½˜ í‘œì‹œ (isCloud = true)
- [ ] ì§„í–‰ë¥  í‘œì‹œ (ProgressDialog)
- [ ] ì™„ë£Œ ì•Œë¦¼ ë° í™”ë©´ ì´ë™

#### 1.6 ë±ƒì§€ ê¸°ëŠ¥ (ì„ íƒ)

- [ ] ìƒˆ ë‹¨ì–´ ê°œìˆ˜ API (`getNewWordCount`)
- [ ] ì„¤ì • ë²„íŠ¼ì— ë±ƒì§€ UI ì¶”ê°€
- [ ] ì•± ì‹¤í–‰ ì‹œ ë±ƒì§€ ì—…ë°ì´íŠ¸

#### 1.7 í…ŒìŠ¤íŠ¸

- [ ] API ì—°ê²° í…ŒìŠ¤íŠ¸
- [ ] ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° í…ŒìŠ¤íŠ¸
- [ ] ì¤‘ë³µ ì²´í¬ í…ŒìŠ¤íŠ¸
- [ ] ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

---

### Phase 2: ê³ ê¸‰ ê¸°ëŠ¥ (ì„ íƒ ì‚¬í•­)

#### 2.1 ë¡œì»¬ â†’ í´ë¼ìš°ë“œ ë™ê¸°í™”

- [ ] ë¡œì»¬ ë‹¨ì–´ë¥¼ í´ë¼ìš°ë“œì— ì—…ë¡œë“œ
- [ ] ìˆ˜ì •ëœ ë‹¨ì–´ë§Œ ë™ê¸°í™” (ì¦ë¶„ ë™ê¸°í™”)
- [ ] ì¶©ëŒ í•´ê²° ë¡œì§

#### 2.2 ìë™ ë™ê¸°í™”

- [ ] ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”
- [ ] ì£¼ê¸°ì  ë™ê¸°í™” (WorkManager)
- [ ] ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€

#### 2.3 ì‚¬ìš©ì ì¸ì¦

- [ ] OAuth ì—°ë™ (Google, Apple)
- [ ] í† í° ê´€ë¦¬
- [ ] ìë™ ë¡œê·¸ì¸

---

## ê³ ë ¤ì‚¬í•­

### 1. ì¤‘ë³µ ì²˜ë¦¬ ì „ëµ

#### ë°©ë²• 1: ë‹¨ì–´ ë‚´ìš©ìœ¼ë¡œ ì¤‘ë³µ ì²´í¬

```java
// foreign + korean ì¡°í•©ìœ¼ë¡œ ì¤‘ë³µ í™•ì¸
if (existing.foreign.equals(newWord.foreign) &&
    existing.korean.equals(newWord.korean)) {
    return true; // ì¤‘ë³µ
}
```

- **ì¥ì **: ê°„ë‹¨í•˜ê³  ì§ê´€ì 
- **ë‹¨ì **: ê°™ì€ ë‹¨ì–´ê°€ ë‹¤ë¥¸ ë‹¨ì–´ì¥ì— ìˆì„ ìˆ˜ ìˆìŒ

#### ë°©ë²• 2: uuidë¡œ ì¤‘ë³µ ì²´í¬

```java
// í´ë¼ìš°ë“œ uuidë¡œ ì¤‘ë³µ í™•ì¸
if (userId + "_" + cloudId.equals(word.uuid)) {
    return true; // ì¤‘ë³µ
}
```

- **ì¥ì **: ì •í™•í•œ ì¤‘ë³µ ì²´í¬
- **ë‹¨ì **: uuidê°€ ì—†ìœ¼ë©´ ì²´í¬ ë¶ˆê°€

#### ë°©ë²• 3: ì‚¬ìš©ì ì„ íƒ

```java
// ì¤‘ë³µ ë°œê²¬ ì‹œ ì‚¬ìš©ìì—ê²Œ ì„ íƒí•˜ê²Œ í•¨
// - ë®ì–´ì“°ê¸°
// - ê±´ë„ˆë›°ê¸°
// - ë³‘í•© (ë©”ëª¨ ì¶”ê°€ ë“±)
```

- **ì¥ì **: ì‚¬ìš©ìê°€ ì§ì ‘ ê²°ì •
- **ë‹¨ì **: UI ë³µì¡ë„ ì¦ê°€

**ì¶”ì²œ**: ë°©ë²• 2 (uuid) + ë°©ë²• 1 (fallback)

---

### 2. ì‚¬ìš©ì ì¸ì¦

#### í˜„ì¬: user_id ì§ì ‘ ì…ë ¥

- ê°„ë‹¨í•˜ê³  ë¹ ë¥´ê²Œ êµ¬í˜„ ê°€ëŠ¥
- ë³´ì•ˆ ì·¨ì•½ (í–¥í›„ ê°œì„  í•„ìš”)

#### í–¥í›„: OAuth ì—°ë™

- Google Sign-In
- Apple Sign-In
- ìë™ ë¡œê·¸ì¸ ë° í† í° ê´€ë¦¬

---

### 3. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬

#### ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€

```java
private boolean isNetworkAvailable() {
    ConnectivityManager cm = (ConnectivityManager)
        getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo networkInfo = cm.getActiveNetworkInfo();
    return networkInfo != null && networkInfo.isConnected();
}
```

#### ì¬ì‹œë„ ë¡œì§

```java
private static final int MAX_RETRY = 3;
private int retryCount = 0;

public List<WordResponse> fetchCloudWordsWithRetry(String userId) {
    while (retryCount < MAX_RETRY) {
        try {
            List<WordResponse> words = fetchCloudWords(userId);
            if (words != null) {
                retryCount = 0;
                return words;
            }
        } catch (Exception e) {
            retryCount++;
            if (retryCount >= MAX_RETRY) {
                throw e;
            }
            // ì¬ì‹œë„ ì „ ëŒ€ê¸°
            Thread.sleep(1000 * retryCount);
        }
    }
    return null;
}
```

#### ë¶€ë¶„ ì‹¤íŒ¨ ì²˜ë¦¬

- ì¼ë¶€ ë‹¨ì–´ë§Œ ì‹¤íŒ¨í•´ë„ ì„±ê³µí•œ ë‹¨ì–´ëŠ” ì €ì¥
- ì‹¤íŒ¨í•œ ë‹¨ì–´ ëª©ë¡ì„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ

---

### 4. ì„±ëŠ¥ ìµœì í™”

#### ëŒ€ëŸ‰ ë‹¨ì–´ ì²˜ë¦¬

```java
// ë°°ì¹˜ ì²˜ë¦¬ (í•œ ë²ˆì— 100ê°œì”©)
private static final int BATCH_SIZE = 100;

for (int i = 0; i < cloudWords.size(); i += BATCH_SIZE) {
    int end = Math.min(i + BATCH_SIZE, cloudWords.size());
    List<WordResponse> batch = cloudWords.subList(i, end);
    // ë°°ì¹˜ ì²˜ë¦¬
    processBatch(batch);

    // UI ì—…ë°ì´íŠ¸ (ì§„í–‰ë¥ )
    int progress = (i + batch.size()) * 100 / cloudWords.size();
    updateProgress(progress);
}
```

#### ì§„í–‰ë¥  í‘œì‹œ

```java
ProgressDialog progressDialog = new ProgressDialog(this);
progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
progressDialog.setMax(cloudWords.size());
progressDialog.setProgress(0);
progressDialog.show();

// ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
progressDialog.setProgress(importedCount);
```

#### ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ

- ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
- UI ì—…ë°ì´íŠ¸ëŠ” `runOnUiThread()` ì‚¬ìš©

---

### 5. ë°ì´í„° ì¼ê´€ì„±

#### íƒ€ì„ìŠ¤íƒ¬í”„ ë³€í™˜

```java
// LocalDateTime â†’ long (milliseconds)
long timestamp = response.getUpdatedAt()
    .toEpochSecond(ZoneOffset.UTC) * 1000;
```

#### uuid ìƒì„± ê·œì¹™

```java
// í˜•ì‹: userId_cloudId
String uuid = userId + "_" + response.getId();
```

#### Soft Delete ì²˜ë¦¬

- í´ë¼ìš°ë“œì—ì„œ ì‚­ì œëœ ë‹¨ì–´ëŠ” `isDeleted = true`ë¡œ í‘œì‹œ
- UIì—ì„œëŠ” ìˆ¨ê¹€ ì²˜ë¦¬

---

## ìµœì¢… ê²°ì • ì‚¬í•­ (í† ë¡  ë°˜ì˜)

### 1. ë‹¨ì–´ ë‹¨ìœ„ êµ¬ë¶„ (ë‹¨ì–´ì¥ ë‹¨ìœ„ ì•„ë‹˜)

**ê²°ì •**: í´ë¼ìš°ë“œ ë‹¨ì–´ì™€ ì¼ë°˜ ë‹¨ì–´ë¥¼ ë‹¨ì–´ì¥ ë‹¨ìœ„ê°€ ì•„ë‹Œ **ë‹¨ì–´ ë‹¨ìœ„ë¡œ êµ¬ë¶„**

```java
// Word.javaì— í•„ë“œ ì¶”ê°€
public boolean isCloud = false;  // í´ë¼ìš°ë“œ ë‹¨ì–´ ì—¬ë¶€
```

**ì´ìœ **:

- ê°™ì€ ë‹¨ì–´ì¥ì—ì„œ í´ë¼ìš°ë“œ/ë¡œì»¬ ë‹¨ì–´ í˜¼í•© ê°€ëŠ¥
- í•™ìŠµ íë¦„ ìœ ì§€ (ë‹¨ì–´ì¥ ë¶„ë¦¬ ë¶ˆí•„ìš”)
- ìœ ì—°í•œ ê´€ë¦¬

**ë¹„ìš©**: ê±°ì˜ ì—†ìŒ (boolean 1ê°œ = 1 byte)

---

### 2. ë¹„ìš© ìµœì í™” ì „ëµ

#### RDS ì¡°íšŒ ë¹„ìš© í•´ê²°

- **ë™ê¸°í™” ì‹œì—ë§Œ RDS ì¡°íšŒ** (1íšŒ)
- **ì¼ìƒ ì‚¬ìš©ì€ ë¡œì»¬ DBë§Œ ì‚¬ìš©** (RDS ì¡°íšŒ ì—†ìŒ)
- `isCloud` í•„ë“œëŠ” ë¡œì»¬ DBì— ì €ì¥ë˜ì–´ RDS ì¡°íšŒ ë¶ˆí•„ìš”

#### Rate Limiting (ë™ê¸°í™” ì œí•œ)

```java
// 5ë¶„ ì¿¨ë‹¤ìš´
private static final long SYNC_COOLDOWN = 5 * 60 * 1000;
```

- ì‚¬ìš©ìë‹¹ 5ë¶„ì— 1íšŒë§Œ ë™ê¸°í™” ê°€ëŠ¥
- ë¬´ì˜ë¯¸í•œ ë™ê¸°í™” ë°©ì§€

#### ì¦ë¶„ ë™ê¸°í™”

```java
// ë§ˆì§€ë§‰ ë™ê¸°í™” ì´í›„ ë³€ê²½ëœ ê²ƒë§Œ
List<WordResponse> getWordsSince(String userId, long timestamp);
```

- ì´ˆê¸°: ì „ì²´ ë°ì´í„° (50KB)
- ì¬ë™ê¸°í™”: ë³€ê²½ëœ ê²ƒë§Œ (1-5KB)
- ë¹„ìš© 90% ì ˆê°

**ì˜ˆìƒ ë¹„ìš©**: ì‚¬ìš©ì 1000ëª… ê¸°ì¤€ ì›” 360ì› (ìµœì í™” í›„)

---

### 3. ë±ƒì§€ í‘œì‹œ ê¸°ëŠ¥

**ê¸°ëŠ¥**: ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ë¡œ í´ë¼ìš°ë“œì— ìƒˆë¡œ ì¶”ê°€ëœ ë‹¨ì–´ ê°œìˆ˜ í‘œì‹œ

```java
// ê°œìˆ˜ë§Œ ê°€ì ¸ì˜¤ê¸° (ê°€ë³ê²Œ)
int newCount = apiService.getNewWordCount(userId, lastSyncTime);
badge.setText(String.valueOf(newCount));
```

**ë¹„ìš©**: ê±°ì˜ ì—†ìŒ (ìˆ«ì 1ê°œ = 4 bytes)

- ì „ì²´ ë‹¨ì–´ ëŒ€ë¹„ 1/12,500
- ì•± ì‹¤í–‰ ì‹œ ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì²´í¬

**UI**: ì„¤ì • ë²„íŠ¼ì— ë±ƒì§€ í‘œì‹œ

---

### 4. êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **ê¸°ë³¸ ë™ê¸°í™”** (ë‹¨ì–´ ë‹¨ìœ„ êµ¬ë¶„)

   - Word.isCloud í•„ë“œ ì¶”ê°€
   - ë™ê¸°í™” ì‹œ isCloud = true ì„¤ì •
   - UIì—ì„œ í´ë¼ìš°ë“œ ì•„ì´ì½˜ í‘œì‹œ

2. **ë¹„ìš© ìµœì í™”**

   - Rate Limiting (5ë¶„ ì¿¨ë‹¤ìš´)
   - ì¦ë¶„ ë™ê¸°í™” (ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„ ê¸°ë°˜)
   - ë³€ê²½ ê°ì§€ API (ì„ íƒ)

3. **ë±ƒì§€ ê¸°ëŠ¥**
   - ìƒˆ ë‹¨ì–´ ê°œìˆ˜ API
   - ë±ƒì§€ UI êµ¬í˜„

---

## ì¶”ì²œ êµ¬í˜„ ìˆœì„œ

### 1ë‹¨ê³„: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶• (1-2ì¼)

1. Retrofit ì˜ì¡´ì„± ì¶”ê°€
2. `WordApiService` ì¸í„°í˜ì´ìŠ¤ ìƒì„±
3. `ApiClient` í´ë˜ìŠ¤ ìƒì„±
4. ë„¤íŠ¸ì›Œí¬ ê¶Œí•œ ì¶”ê°€

### 2ë‹¨ê³„: ë™ê¸°í™” ë¡œì§ êµ¬í˜„ (2-3ì¼)

1. `CloudSyncManager` í´ë˜ìŠ¤ ìƒì„±
2. `fetchCloudWords()` êµ¬í˜„
3. `importToLocalWordList()` êµ¬í˜„
4. ì¤‘ë³µ ì²´í¬ ë¡œì§ êµ¬í˜„
5. `WordMapper` í™•ì¥

### 3ë‹¨ê³„: UI êµ¬í˜„ (2-3ì¼)

1. ì„¤ì • í™”ë©´ì— ë™ê¸°í™” ë©”ë‰´ ì¶”ê°€
2. ì‚¬ìš©ì ID ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸
3. ë‹¨ì–´ì¥ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸
4. ì§„í–‰ë¥  í‘œì‹œ
5. ì™„ë£Œ ì•Œë¦¼

### 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ë° ê°œì„  (1-2ì¼)

1. API ì—°ê²° í…ŒìŠ¤íŠ¸
2. ë‹¨ì–´ ê°€ì ¸ì˜¤ê¸° í…ŒìŠ¤íŠ¸
3. ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
4. ì„±ëŠ¥ ìµœì í™”
5. ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜

---

## ì˜ˆìƒ ì†Œìš” ì‹œê°„

- **Phase 1 (ê¸°ë³¸ ë™ê¸°í™”)**: ì•½ 1ì£¼
- **Phase 2 (ê³ ê¸‰ ê¸°ëŠ¥)**: ì•½ 2ì£¼ (ì„ íƒ ì‚¬í•­)

---

## ë‹¤ìŒ ë‹¨ê³„

1. **ì¦‰ì‹œ ì‹œì‘ ê°€ëŠ¥í•œ ì‘ì—…**:

   - Retrofit ì˜ì¡´ì„± ì¶”ê°€
   - `WordApiService` ì¸í„°í˜ì´ìŠ¤ ìƒì„±
   - `ApiClient` í´ë˜ìŠ¤ ìƒì„±

2. **ë°±ì—”ë“œ API í™•ì¸ í•„ìš”**:

   - ì‹¤ì œ API ì—”ë“œí¬ì¸íŠ¸ URL
   - ì¸ì¦ ë°©ì‹ (API Key, Token ë“±)
   - ì‘ë‹µ í˜•ì‹ í™•ì¸

3. **í…ŒìŠ¤íŠ¸ ê³„íš**:
   - Mock ì„œë²„ë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸
   - ì‹¤ì œ ì„œë²„ì™€ ì—°ë™ í…ŒìŠ¤íŠ¸
   - ì˜¤ë¥˜ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

---

## ì°¸ê³  ì‚¬í•­

- ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
- UI ì—…ë°ì´íŠ¸ëŠ” `runOnUiThread()` ì‚¬ìš©
- ì˜¤ë¥˜ ë°œìƒ ì‹œ ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ë©”ì‹œì§€ í‘œì‹œ
- ì§„í–‰ë¥  í‘œì‹œë¡œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ì¤‘ë³µ ì²´í¬ëŠ” uuid ìš°ì„ , ë‚´ìš© ê¸°ë°˜ fallback

---

**ì‘ì„±ì¼**: 2025-01-XX  
**ì‘ì„±ì**: AI Assistant  
**ë²„ì „**: 1.0
